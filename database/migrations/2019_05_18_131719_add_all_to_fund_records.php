<?php
use Illuminate\Support\Facades\Schema; use Illuminate\Database\Schema\Blueprint; use Illuminate\Database\Migrations\Migration; class AddAllToFundRecords extends Migration { public function up() { if (!Schema::hasColumn('fund_records', 'all')) { Schema::table('fund_records', function (Blueprint $sp0058d3) { $sp0058d3->integer('all')->nullable()->after('amount'); $sp0058d3->integer('frozen')->nullable()->after('all'); $sp0058d3->integer('paid')->nullable()->after('frozen'); }); } } public function down() { foreach (array('all', 'frozen', 'paid') as $spd9c7a3) { try { Schema::table('fund_records', function (Blueprint $sp0058d3) use($spd9c7a3) { $sp0058d3->dropColumn($spd9c7a3); }); } catch (\Throwable $spa356ee) { } } } }