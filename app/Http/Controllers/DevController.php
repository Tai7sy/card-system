<?php
namespace App\Http\Controllers; use App\System; use Illuminate\Http\Request; use Illuminate\Support\Facades\Log; use Illuminate\Support\Facades\Mail; class DevController extends Controller { private function check_readable_r($spe1f7b0) { if (is_dir($spe1f7b0)) { if (is_readable($spe1f7b0)) { $sp98087b = scandir($spe1f7b0); foreach ($sp98087b as $sp1b7e5d) { if ($sp1b7e5d != '.' && $sp1b7e5d != '..') { if (!self::check_readable_r($spe1f7b0 . '/' . $sp1b7e5d)) { return false; } else { continue; } } } echo $spe1f7b0 . '   ...... <span style="color: green">R</span><br>'; return true; } else { echo $spe1f7b0 . '   ...... <span style="color: red">R</span><br>'; return false; } } else { if (file_exists($spe1f7b0)) { return is_readable($spe1f7b0); } } echo $spe1f7b0 . '   ...... 文件不存在<br>'; return false; } private function check_writable_r($spe1f7b0) { if (is_dir($spe1f7b0)) { if (is_writable($spe1f7b0)) { $sp98087b = scandir($spe1f7b0); foreach ($sp98087b as $sp1b7e5d) { if ($sp1b7e5d != '.' && $sp1b7e5d != '..') { if (!self::check_writable_r($spe1f7b0 . '/' . $sp1b7e5d)) { return false; } else { continue; } } } echo $spe1f7b0 . '   ...... <span style="color: green">W</span><br>'; return true; } else { echo $spe1f7b0 . '   ...... <span style="color: red">W</span><br>'; return false; } } else { if (file_exists($spe1f7b0)) { return is_writable($spe1f7b0); } } echo $spe1f7b0 . '   ...... 文件不存在<br>'; return false; } private function checkPathPermission($sp5bb4ef) { self::check_readable_r($sp5bb4ef); self::check_writable_r($sp5bb4ef); } public function install() { $sp230ffd = array(); @ob_start(); self::checkPathPermission(base_path('storage')); self::checkPathPermission(base_path('bootstrap/cache')); $sp230ffd['permission'] = @ob_get_clean(); return view('install', array('var' => $sp230ffd)); } public function test(Request $sp7f7104) { } }