<?php
namespace App\Http\Controllers; use App\System; use Illuminate\Foundation\Bus\DispatchesJobs; use Illuminate\Routing\Controller as BaseController; use Illuminate\Foundation\Validation\ValidatesRequests; use Illuminate\Foundation\Auth\Access\AuthorizesRequests; use Illuminate\Http\Request; class Controller extends BaseController { use AuthorizesRequests, DispatchesJobs, ValidatesRequests; function authQuery(Request $sp179c14, $spb258ab, $spf537aa = 'user_id', $sp305da3 = 'user_id') { return $spb258ab::where($spf537aa, \Auth::id()); } protected function getUserId(Request $sp179c14, $sp305da3 = 'user_id') { return \Auth::id(); } protected function getUserIdOrFail(Request $sp179c14, $sp305da3 = 'user_id') { $spf36aa8 = self::getUserId($sp179c14, $sp305da3); if ($spf36aa8) { return $spf36aa8; } else { throw new \Exception('参数缺少 ' . $sp305da3); } } protected function getUser(Request $sp179c14) { return \Auth::getUser(); } protected function checkIsInMaintain() { if ((int) System::_get('maintain') === 1) { $spb57400 = System::_get('maintain_info'); echo view('message', array('title' => '维护中', 'message' => $spb57400)); die; } } protected function msg($spa45cdc, $sp5ad4d4 = null, $sp055f3b = null) { return view('message', array('message' => $spa45cdc, 'title' => $sp5ad4d4, 'exception' => $sp055f3b)); } }