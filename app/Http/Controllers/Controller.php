<?php
namespace App\Http\Controllers; use App\System; use Illuminate\Foundation\Bus\DispatchesJobs; use Illuminate\Routing\Controller as BaseController; use Illuminate\Foundation\Validation\ValidatesRequests; use Illuminate\Foundation\Auth\Access\AuthorizesRequests; use Illuminate\Http\Request; class Controller extends BaseController { use AuthorizesRequests, DispatchesJobs, ValidatesRequests; function authQuery(Request $spd5cc4d, $sp2e0520, $sp7490e9 = 'user_id', $spf9088c = 'user_id') { return $sp2e0520::where($sp7490e9, \Auth::id()); } protected function getUserId(Request $spd5cc4d, $spf9088c = 'user_id') { return \Auth::id(); } protected function getUserIdOrFail(Request $spd5cc4d, $spf9088c = 'user_id') { $spfaef2f = self::getUserId($spd5cc4d, $spf9088c); if ($spfaef2f) { return $spfaef2f; } else { throw new \Exception('参数缺少 ' . $spf9088c); } } protected function getUser(Request $spd5cc4d) { return \Auth::getUser(); } protected function checkIsInMaintain() { if ((int) System::_get('maintain') === 1) { $sp688da5 = System::_get('maintain_info'); echo view('message', array('title' => '维护中', 'message' => $sp688da5)); die; } } protected function msg($sp06fc7d, $spa0e41f = null, $sp8f27c2 = null) { return view('message', array('message' => $sp06fc7d, 'title' => $spa0e41f, 'exception' => $sp8f27c2)); } }