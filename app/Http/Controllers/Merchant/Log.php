<?php
namespace App\Http\Controllers\Merchant; use App\Library\Response; use Illuminate\Http\Request; use App\Http\Controllers\Controller; use Illuminate\Support\Facades\Auth; class Log extends Controller { function get(Request $sp179c14) { $spf36aa8 = $sp179c14->post('user_id'); $sp63c03a = $sp179c14->post('action', \App\Log::ACTION_LOGIN); $sp78fbd3 = \App\Log::where('action', $sp63c03a); $sp78fbd3->where('user_id', Auth::id()); $sp1293cd = $sp179c14->post('start_at'); if (strlen($sp1293cd)) { $sp78fbd3->where('created_at', '>=', $sp1293cd . ' 00:00:00'); } $spf274dd = $sp179c14->post('end_at'); if (strlen($spf274dd)) { $sp78fbd3->where('created_at', '<=', $spf274dd . ' 23:59:59'); } $spababe9 = $sp179c14->post('current_page', 1); $sp4b1688 = $sp179c14->post('per_page', 20); $spe11c26 = $sp78fbd3->orderBy('created_at', 'DESC')->paginate($sp4b1688, array('*'), 'page', $spababe9); return Response::success($spe11c26); } }