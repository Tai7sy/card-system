<?php
namespace App\Http\Controllers\Merchant; use App\Library\Response; use Illuminate\Http\Request; use App\Http\Controllers\Controller; use Illuminate\Support\Facades\Auth; class Log extends Controller { function get(Request $spa27895) { $sp258cf6 = $spa27895->post('user_id'); $sp351722 = $spa27895->post('action', \App\Log::ACTION_LOGIN); $sp7e6fa3 = \App\Log::where('action', $sp351722); $sp7e6fa3->where('user_id', Auth::id()); $sp4faace = $spa27895->post('start_at'); if (strlen($sp4faace)) { $sp7e6fa3->where('created_at', '>=', $sp4faace . ' 00:00:00'); } $sp66bad0 = $spa27895->post('end_at'); if (strlen($sp66bad0)) { $sp7e6fa3->where('created_at', '<=', $sp66bad0 . ' 23:59:59'); } $spf69625 = $spa27895->post('current_page', 1); $spe8f5a8 = $spa27895->post('per_page', 20); $sp966ae1 = $sp7e6fa3->orderBy('created_at', 'DESC')->paginate($spe8f5a8, array('*'), 'page', $spf69625); return Response::success($sp966ae1); } }