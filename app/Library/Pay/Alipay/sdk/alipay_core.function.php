<?php
function createLinkString($sp4b405d) { $spc05966 = ''; foreach ($sp4b405d as $sp1ed429 => $sp36ecf9) { $spc05966 .= $sp1ed429 . '=' . $sp36ecf9 . '&'; } $spc05966 = substr($spc05966, 0, strlen($spc05966) - 1); if (get_magic_quotes_gpc()) { $spc05966 = stripslashes($spc05966); } return $spc05966; } function createLinkStringUrlEncode($sp4b405d) { $spc05966 = ''; foreach ($sp4b405d as $sp1ed429 => $sp36ecf9) { $spc05966 .= $sp1ed429 . '=' . urlencode($sp36ecf9) . '&'; } $spc05966 = substr($spc05966, 0, strlen($spc05966) - 1); if (get_magic_quotes_gpc()) { $spc05966 = stripslashes($spc05966); } return $spc05966; } function paraFilter($sp4b405d) { $sp67f981 = array(); foreach ($sp4b405d as $sp1ed429 => $sp36ecf9) { if ($sp1ed429 == 'sign' || $sp1ed429 == 'sign_type' || $sp36ecf9 == '') { continue; } else { $sp67f981[$sp1ed429] = $sp4b405d[$sp1ed429]; } } return $sp67f981; } function argSort($sp4b405d) { ksort($sp4b405d); reset($sp4b405d); return $sp4b405d; } function logResult($sp2411ef = '') { $sp8cc2df = fopen('log.txt', 'a'); flock($sp8cc2df, LOCK_EX); fwrite($sp8cc2df, '执行日期：' . strftime('%Y%m%d%H%M%S', time()) . '
' . $sp2411ef . '
'); flock($sp8cc2df, LOCK_UN); fclose($sp8cc2df); } function getHttpResponsePOST($sp3db1b2, $spf113cd, $sp4b405d, $sp4928c3 = '') { if (trim($sp4928c3) != '') { $sp3db1b2 = $sp3db1b2 . '_input_charset=' . $sp4928c3; } $spf94a8f = curl_init($sp3db1b2); curl_setopt($spf94a8f, CURLOPT_SSL_VERIFYPEER, true); curl_setopt($spf94a8f, CURLOPT_SSL_VERIFYHOST, 2); curl_setopt($spf94a8f, CURLOPT_CAINFO, $spf113cd); curl_setopt($spf94a8f, CURLOPT_HEADER, 0); curl_setopt($spf94a8f, CURLOPT_RETURNTRANSFER, 1); curl_setopt($spf94a8f, CURLOPT_POST, true); curl_setopt($spf94a8f, CURLOPT_POSTFIELDS, $sp4b405d); $sp775c00 = curl_exec($spf94a8f); curl_close($spf94a8f); return $sp775c00; } function getHttpResponseGET($sp3db1b2, $speb40bf) { $spf94a8f = curl_init($sp3db1b2); curl_setopt($spf94a8f, CURLOPT_HEADER, 0); curl_setopt($spf94a8f, CURLOPT_RETURNTRANSFER, 1); curl_setopt($spf94a8f, CURLOPT_SSL_VERIFYPEER, true); curl_setopt($spf94a8f, CURLOPT_SSL_VERIFYHOST, 2); curl_setopt($spf94a8f, CURLOPT_CAINFO, $speb40bf); $sp775c00 = curl_exec($spf94a8f); curl_close($spf94a8f); return $sp775c00; } function charsetEncode($sp134454, $spf087f4, $spb9c355) { $sp6c7862 = ''; if (!isset($spf087f4)) { $spf087f4 = $spb9c355; } if ($spb9c355 == $spf087f4 || $sp134454 == null) { $sp6c7862 = $sp134454; } elseif (function_exists('mb_convert_encoding')) { $sp6c7862 = mb_convert_encoding($sp134454, $spf087f4, $spb9c355); } elseif (function_exists('iconv')) { $sp6c7862 = iconv($spb9c355, $spf087f4, $sp134454); } else { die('sorry, you have no libs support for charset change.'); } return $sp6c7862; } function charsetDecode($sp134454, $spb9c355, $spf087f4) { if (!isset($spb9c355)) { $spf087f4 = $spb9c355; } if ($spb9c355 == $spf087f4 || $sp134454 == null) { $sp6c7862 = $sp134454; } elseif (function_exists('mb_convert_encoding')) { $sp6c7862 = mb_convert_encoding($sp134454, $spf087f4, $spb9c355); } elseif (function_exists('iconv')) { $sp6c7862 = iconv($spb9c355, $spf087f4, $sp134454); } else { die('sorry, you have no libs support for charset changes.'); } return $sp6c7862; } function md5Sign($sp4a09c0, $sp1ed429) { $sp4a09c0 = $sp4a09c0 . $sp1ed429; return md5($sp4a09c0); } function md5Verify($sp4a09c0, $spa109d2, $sp1ed429) { $sp4a09c0 = $sp4a09c0 . $sp1ed429; $spea060c = md5($sp4a09c0); if ($spea060c == $spa109d2) { return true; } else { return false; } }