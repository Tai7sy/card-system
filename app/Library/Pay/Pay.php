<?php
namespace App\Library\Pay; class Pay { private $driver = null; public function goPay($spf9ca0c, $sp845b45, $spd4e90d, $spd0789a, $spf59c91) { $this->driver = static::getDriver($spf9ca0c->id, $spf9ca0c->driver); $sp9d4382 = json_decode($spf9ca0c->config, true); $sp9d4382['payway'] = $spf9ca0c->way; $this->driver->goPay($sp9d4382, $sp845b45, $spd4e90d, $spd0789a, $spf59c91); return true; } public static function getDriver($spc035b6, $spd1dcf7) { $spbc523d = 'App\\Library\\Pay\\' . ucfirst($spd1dcf7) . '\\Api'; if (!class_exists($spbc523d)) { throw new \Exception('支付驱动未找到'); } return new $spbc523d($spc035b6); } }