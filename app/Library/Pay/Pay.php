<?php
namespace App\Library\Pay; class Pay { private $driver = null; public function goPay($spd53b1c, $spd56469, $sp9f49de, $sp224c81, $sp9b2bb6) { $this->driver = static::getDriver($spd53b1c->id, $spd53b1c->driver); $spc27de0 = json_decode($spd53b1c->config, true); $spc27de0['payway'] = $spd53b1c->way; $this->driver->goPay($spc27de0, $spd56469, $sp9f49de, $sp224c81, $sp9b2bb6); return true; } public static function getDriver($spba5a3b, $sp5df6ee) { $spddbdf6 = 'App\\Library\\Pay\\' . ucfirst($sp5df6ee) . '\\Api'; if (!class_exists($spddbdf6)) { throw new \Exception('支付驱动未找到'); } return new $spddbdf6($spba5a3b); } }