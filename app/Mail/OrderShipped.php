<?php
namespace App\Mail; use Illuminate\Bus\Queueable; use Illuminate\Mail\Mailable; use Illuminate\Queue\SerializesModels; use Illuminate\Contracts\Queue\ShouldQueue; class OrderShipped extends Mailable { use Queueable, SerializesModels; public $tries = 3; public $timeout = 20; public $order_no; public $order_url; public $card_msg; public $cards_txt; public function __construct($sp8ac6c1, $spd1255c, $sp4d8cbe) { $this->order_no = $sp8ac6c1->order_no; $this->order_url = config('app.url') . route('pay.result', array($sp8ac6c1->order_no), false); $this->card_msg = $spd1255c; $this->cards_txt = $sp4d8cbe; } public function build() { return $this->subject('订单提醒(#' . $this->order_no . ')-' . config('app.name'))->view('emails.order'); } }